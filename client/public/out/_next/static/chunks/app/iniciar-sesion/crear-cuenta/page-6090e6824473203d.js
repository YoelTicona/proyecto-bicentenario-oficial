(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[313],{49:(e,a,r)=>{Promise.resolve().then(r.bind(r,7413))},5695:(e,a,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}})},7283:(e,a,r)=>{"use strict";r.d(a,{IG:()=>c,db:()=>l,yA:()=>o});var s=r(3915),n=r(5317),t=r(6203),i=r(858);let o=(0,s.Wp)({apiKey:"AIzaSyD09OKHFuiLJRkE8EUi3iG3HghecuToDMc",authDomain:"bicentenario-6eeb1.firebaseapp.com",projectId:"bicentenario-6eeb1",storageBucket:"bicentenario-6eeb1.firebasestorage.app",messagingSenderId:"439443900050",appId:"1:439443900050:web:11f71de190fbe19660884b",measurementId:"G-VBQNXJ431R"}),l=(0,n.aU)(o);(0,t.xI)(o);let c=(0,i.c7)(o)},7413:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>l});var s=r(5155);r(4752);var n=r(2115),t=r(5695),i=r(7283),o=r(5317);function l(){var e;(0,t.useRouter)();let[a,r]=(0,n.useState)([]),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(!1),[x,v]=(0,n.useState)({nombre:"",paterno:"",materno:"",nacimiento:"",genero:"",email:"",pais:"",ciudad:"",contrasenia:"",confirmar:"",rol:""});(0,n.useEffect)(()=>{fetch("https://countriesnow.space/api/v0.1/countries").then(e=>e.json()).then(e=>r(e.data))},[]);let j=a.map(e=>e.country),f=x.pais&&(null==(e=a.find(e=>e.country===x.pais))?void 0:e.cities)||[],b=e=>{let{name:a,value:r}=e.target;v(e=>({...e,[a]:r}))},N=async e=>{if(e.preventDefault(),x.contrasenia!==x.confirmar){m("Las contrase\xf1as no coinciden"),g(!1);return}if(x.contrasenia.length<6){m("La contrase\xf1a debe tener al menos 6 caracteres"),g(!1);return}try{var a;await (0,o.gS)((0,o.rJ)(i.db,"Usuarios"),{apellidoMat:x.materno,apellidoPat:x.paterno,ciudad:x.ciudad,correo:x.email,fechaNac:x.nacimiento,genero:x.genero,nombre:x.nombre,pais:x.pais,rol:null!=(a=x.rol)?a:"user",contrasenia:x.contrasenia}),m(""),g(!0),alert("Usuario registrado correctamente ✅")}catch(e){console.error("Error de registro:",e.message),m(e.message),g(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-[#889E73] flex items-center justify-center px-4 py-10",children:(0,s.jsxs)("form",{onSubmit:N,className:"bg-white p-6 rounded-lg shadow-md w-full max-w-3xl space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"Registro de Usuario"}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,s.jsx)("input",{name:"nombre",placeholder:"Nombre",className:"input",required:!0,onChange:b}),(0,s.jsx)("input",{name:"paterno",placeholder:"Paterno",className:"input",required:!0,onChange:b}),(0,s.jsx)("input",{name:"materno",placeholder:"Materno",className:"input",required:!0,onChange:b})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,s.jsx)("input",{name:"email",type:"email",placeholder:"Correo electr\xf3nico",className:"input",required:!0,onChange:b}),(0,s.jsxs)("div",{className:"relative group w-full",children:[(0,s.jsx)("input",{name:"nacimiento",type:"date",className:"input",required:!0,onChange:b,value:x.nacimiento}),(0,s.jsx)("div",{className:"absolute top-full left-0 mt-1 w-64 p-2 text-sm text-white bg-gray-700 rounded shadow opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition",children:"Por favor, selecciona tu fecha de nacimiento"})]}),(0,s.jsxs)("select",{name:"genero",className:"input",required:!0,onChange:b,children:[(0,s.jsx)("option",{value:"",children:"G\xe9nero"}),(0,s.jsx)("option",{value:"Masculino",children:"Masculino"}),(0,s.jsx)("option",{value:"Femenino",children:"Femenino"}),(0,s.jsx)("option",{value:"Otro",children:"Otro"})]})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("select",{name:"pais",className:"input",value:x.pais,onChange:b,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Pa\xeds"}),j.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{name:"ciudad",className:"input",value:x.ciudad,onChange:b,required:!0,disabled:!f.length,children:[(0,s.jsx)("option",{value:"",children:"Ciudad"}),f.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{name:"contrasenia",type:l?"text":"password",placeholder:"Contrase\xf1a",className:"input",required:!0,onChange:b}),(0,s.jsx)("span",{onClick:()=>c(!l),className:"absolute right-3 top-2 cursor-pointer text-gray-600",children:l?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{name:"confirmar",type:d?"text":"password",placeholder:"Repite la contrase\xf1a",className:"input",required:!0,onChange:b}),(0,s.jsx)("span",{onClick:()=>u(!d),className:"absolute right-3 top-2 cursor-pointer text-gray-600",children:d?"\uD83D\uDE48":"\uD83D\uDC41️"})]})]}),(0,s.jsx)("div",{className:"grid sm:grid-cols-3 gap-4",children:(0,s.jsxs)("div",{className:"relative group w-full",children:[(0,s.jsxs)("select",{name:"rol",className:"input w-full",required:!0,onChange:b,children:[(0,s.jsx)("option",{value:"",children:"Rol"}),(0,s.jsx)("option",{value:"usuario",children:"Usuario Casual"}),(0,s.jsx)("option",{value:"organizador",children:"Organizador"})]}),(0,s.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-64 p-2 text-sm text-white bg-gray-700 rounded shadow opacity-0 group-hover:opacity-100 transition",children:[""===x.rol&&"Seleccione un rol","usuario"===x.rol&&"Puede explorar, comentar y registrar eventos en su agenda","organizador"===x.rol&&"Puede crear, editar y gestionar eventos del sistema"]})]})}),p&&(0,s.jsx)("p",{className:"text-red-600 text-sm",children:p}),h&&(0,s.jsx)("p",{className:"text-green-600 text-sm",children:"\xa1Registro exitoso!"}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{type:"submit",className:"bg-[#889E73] text-white px-6 py-2 rounded-full hover:bg-[#6f825e] transition",children:"Registrarse"})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,158,320,288,441,684,358],()=>a(49)),_N_E=e.O()}]);