(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{4003:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),n=s(2115),r=s(5695);function l(){let e=(0,r.useRouter)(),t=(0,r.usePathname)().split("/")[2]||"",[s,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[u,o]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[d,p]=(0,n.useState)(!1),[b,x]=(0,n.useState)(!1),f=e=>/[a-z]/.test(e)?/[A-Z]/.test(e)?/\d/.test(e)?/[^a-zA-Z0-9]/.test(e)?e.length<8||e.length>15?"Debe tener entre 8 y 15 caracteres.":"":"Debe tener un car\xe1cter especial.":"Debe tener al menos un n\xfamero.":"Debe tener al menos una may\xfascula.":"Debe tener al menos una min\xfascula.",g=async a=>{a.preventDefault(),o("");let n=f(s);if(n)return o(n);if(s!==i)return o("Las contrase\xf1as no coinciden.");try{let a=await fetch("http://localhost:4000/api/cambiar_contrasenia",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contrasenia:s,token:t})}),n=await a.json();if(!a.ok)return o(n.message);h(n.message),setTimeout(()=>e.push("/iniciar-sesion"),2e3)}catch(e){o("Error de conexi\xf3n.")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#889E73] px-4",children:(0,a.jsxs)("form",{onSubmit:g,className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full animate-fade-in",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-[#2b2c32]",children:"Recupera tu contrase\xf1a"}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{className:"block mb-1",children:"Nueva contrase\xf1a"}),(0,a.jsx)("input",{type:d?"text":"password",className:"input pr-10",value:s,onChange:e=>l(e.target.value),required:!0}),(0,a.jsx)("span",{className:"absolute right-3 top-9 cursor-pointer",onClick:()=>p(!d),children:d?"\uD83D\uDE48":"\uD83D\uDC41ï¸"})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{className:"block mb-1",children:"Confirmar contrase\xf1a"}),(0,a.jsx)("input",{type:b?"text":"password",className:"input pr-10",value:i,onChange:e=>c(e.target.value),required:!0}),(0,a.jsx)("span",{className:"absolute right-3 top-9 cursor-pointer",onClick:()=>x(!b),children:b?"\uD83D\uDE48":"\uD83D\uDC41ï¸"})]}),u&&(0,a.jsx)("p",{className:"text-red-600 text-sm mb-3",children:u}),m&&(0,a.jsx)("p",{className:"text-green-600 text-sm mb-3",children:m}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-[#889E73] text-white py-2 rounded hover:bg-[#71875e] transition",children:"Recuperar contrase\xf1a"})]})})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9551:(e,t,s)=>{Promise.resolve().then(s.bind(s,4003))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9551)),_N_E=e.O()}]);