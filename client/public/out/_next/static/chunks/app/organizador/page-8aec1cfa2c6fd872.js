(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{1399:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>h});var l=i(5155),n=i(2115),o=i(6203),s=i(5317),r=i(7283),c=i(5695),t=i(4752),d=i.n(t),u=i(8544);function h(){let[e,a]=(0,n.useState)(null),[i,t]=(0,n.useState)(null),[h,m]=(0,n.useState)(null),[p,x]=(0,n.useState)({titulo:"",descripcion:"",fecha:"",modalidad:"",link:"",costo:"",ciudad:"",departamento:"",direccion:"",categoria:"",imagen:"",puntuacion:0}),j=(0,c.useRouter)();(0,n.useEffect)(()=>{let e=(0,o.xI)(),i=(0,o.hg)(e,async e=>{if(!e)return j.push("/");a(e);let i=(0,s.H9)(r.db,"Usuarios",e.uid),l=await (0,s.x7)(i);l.exists()&&"organizador"===l.data().rol?t(l.data()):(d().fire({icon:"error",title:"Acceso restringido",text:"Solo para organizadores"}),j.push("/"))});return()=>i()},[j]);let v=e=>{let{name:a,value:i,files:l}=e.target;if("imagen"===a&&(null==l?void 0:l.length)>0){let e=l[0],a=new FileReader;a.onloadend=()=>m(a.result),a.readAsDataURL(e),x(a=>({...a,imagen:e.name}))}else x({...p,[a]:i})},b=async a=>{if(a.preventDefault(),!p.titulo||!p.fecha)return void d().fire({icon:"warning",title:"Faltan campos obligatorios"});try{await (0,s.gS)((0,s.rJ)(r.db,"Eventos"),{...p,fecha:s.Dc.fromDate(new Date(p.fecha)),creadoPor:e.uid}),d().fire({icon:"success",title:"Evento registrado"}),x({titulo:"",descripcion:"",fecha:"",modalidad:"",link:"",costo:"",ciudad:"",departamento:"",direccion:"",categoria:"",imagen:"",puntuacion:0}),m(null)}catch(e){d().fire({icon:"error",title:"Error",text:e.message})}};return e&&i?(0,l.jsxs)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto p-6 bg-white shadow rounded mt-10",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-700",children:"Agregar Evento"}),(0,l.jsxs)("form",{onSubmit:b,className:"space-y-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block font-medium mb-1",children:"Imagen del evento"}),(0,l.jsxs)("div",{className:"relative w-full h-48 bg-gray-100 rounded flex items-center justify-center border-2 border-dashed border-gray-300 cursor-pointer overflow-hidden",children:[h?(0,l.jsx)("img",{src:h,alt:"Previsualizaci\xf3n",className:"h-full object-contain rounded"}):(0,l.jsx)("span",{className:"text-gray-400 z-10",children:"Haz clic para seleccionar imagen"}),(0,l.jsx)("input",{type:"file",name:"imagen",accept:"image/*",onChange:v,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"T\xedtulo"}),(0,l.jsx)("input",{name:"titulo",value:p.titulo,onChange:v,className:"input w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Fecha"}),(0,l.jsx)("input",{name:"fecha",type:"date",value:p.fecha,onChange:v,className:"input w-full"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Descripci\xf3n"}),(0,l.jsx)("textarea",{name:"descripcion",value:p.descripcion,onChange:v,className:"input w-full h-24"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Modalidad"}),(0,l.jsxs)("select",{name:"modalidad",value:p.modalidad,onChange:v,className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar"}),(0,l.jsx)("option",{value:"virtual",children:"Virtual"}),(0,l.jsx)("option",{value:"presencial",children:"Presencial"}),(0,l.jsx)("option",{value:"hibrido",children:"H\xedbrido"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Enlace de informaci\xf3n"}),(0,l.jsx)("input",{name:"link",value:p.link,onChange:v,className:"input w-full"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Costo"}),(0,l.jsx)("input",{name:"costo",type:"number",value:p.costo,onChange:v,className:"input w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Direcci\xf3n"}),(0,l.jsx)("input",{name:"direccion",value:p.direccion,onChange:v,className:"input w-full"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Departamento"}),(0,l.jsxs)("select",{name:"departamento",value:p.departamento,onChange:v,className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar"}),(0,l.jsx)("option",{value:"La Paz",children:"La Paz"}),(0,l.jsx)("option",{value:"Cochabamba",children:"Cochabamba"}),(0,l.jsx)("option",{value:"Santa Cruz",children:"Santa Cruz"}),(0,l.jsx)("option",{value:"Oruro",children:"Oruro"}),(0,l.jsx)("option",{value:"Potos\xed",children:"Potos\xed"}),(0,l.jsx)("option",{value:"Chuquisaca",children:"Chuquisaca"}),(0,l.jsx)("option",{value:"Tarija",children:"Tarija"}),(0,l.jsx)("option",{value:"Beni",children:"Beni"}),(0,l.jsx)("option",{value:"Pando",children:"Pando"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Ciudad"}),(0,l.jsxs)("select",{name:"ciudad",value:p.ciudad,onChange:v,className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar"}),(0,l.jsx)("option",{value:"La Paz",children:"La Paz"}),(0,l.jsx)("option",{value:"El Alto",children:"El Alto"}),(0,l.jsx)("option",{value:"Cochabamba",children:"Cochabamba"}),(0,l.jsx)("option",{value:"Santa Cruz",children:"Santa Cruz"}),(0,l.jsx)("option",{value:"Oruro",children:"Oruro"}),(0,l.jsx)("option",{value:"Potos\xed",children:"Potos\xed"}),(0,l.jsx)("option",{value:"Sucre",children:"Sucre"}),(0,l.jsx)("option",{value:"Tarija",children:"Tarija"}),(0,l.jsx)("option",{value:"Trinidad",children:"Trinidad"}),(0,l.jsx)("option",{value:"Cobija",children:"Cobija"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-1",children:"Categor\xeda"}),(0,l.jsxs)("select",{name:"categoria",value:p.categoria,onChange:v,className:"input w-full",children:[(0,l.jsx)("option",{value:"",children:"Seleccionar"}),(0,l.jsx)("option",{value:"Infantil",children:"Infantil"}),(0,l.jsx)("option",{value:"Cultural",children:"Cultural"}),(0,l.jsx)("option",{value:"Musical",children:"Musical"}),(0,l.jsx)("option",{value:"Acad\xe9mico",children:"Acad\xe9mico"}),(0,l.jsx)("option",{value:"C\xedvico",children:"C\xedvico"}),(0,l.jsx)("option",{value:"Juvenil",children:"Juvenil"}),(0,l.jsx)("option",{value:"Deportivo",children:"Deportivo"}),(0,l.jsx)("option",{value:"Comunitario",children:"Comunitario"}),(0,l.jsx)("option",{value:"Religioso",children:"Religioso"}),(0,l.jsx)("option",{value:"Adultos Mayores",children:"Adultos Mayores"})]})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"px-8 py-2 border-2 border-green-600 text-green-700 font-semibold rounded-full hover:bg-green-100",children:"Agregar"})})]})]}):(0,l.jsx)("p",{className:"text-center py-20",children:"Cargando..."})}},7283:(e,a,i)=>{"use strict";i.d(a,{IG:()=>t,db:()=>c,yA:()=>r});var l=i(3915),n=i(5317),o=i(6203),s=i(858);let r=(0,l.Wp)({apiKey:"AIzaSyD09OKHFuiLJRkE8EUi3iG3HghecuToDMc",authDomain:"bicentenario-6eeb1.firebaseapp.com",projectId:"bicentenario-6eeb1",storageBucket:"bicentenario-6eeb1.firebasestorage.app",messagingSenderId:"439443900050",appId:"1:439443900050:web:11f71de190fbe19660884b",measurementId:"G-VBQNXJ431R"}),c=(0,n.aU)(r);(0,o.xI)(r);let t=(0,s.c7)(r)},7712:(e,a,i)=>{Promise.resolve().then(i.bind(i,1399))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,158,320,288,454,441,684,358],()=>a(7712)),_N_E=e.O()}]);